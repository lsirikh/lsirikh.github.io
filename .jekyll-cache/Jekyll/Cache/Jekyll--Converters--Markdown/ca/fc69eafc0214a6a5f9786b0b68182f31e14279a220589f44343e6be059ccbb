I"à)<h2 id="1-ë©”ì‹œì§€ë€">1. ë©”ì‹œì§€ë€?</h2>

<p>ë©”ì‹œì§€ëŠ” ë…¸ë“œ ê°„ ë°ì´í„° êµí™˜ì— ì‚¬ìš©ë˜ëŠ” ë°ì´í„° ëª¨ìŒì´ë‹¤. í† í”½, ì„œë¹„ìŠ¤ ë° ì•¡ì…˜ì—ëŠ” ë©”ì‹œì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ í†µì‹ í•œë‹¤.</p>

<p>ë©”ì‹œì§€ì—ëŠ” ì •ìˆ˜, ë¶€ë™ ì†Œìˆ˜ì , ë¶€ìš¸ê³¼ ê°™ì€ ê¸°ë³¸ ë°ì´í„° ìœ í˜•ê³¼ â€˜float32 [] rangesâ€™, â€˜Point32 [10] pointsâ€™ì™€ ê°™ì€ ë©”ì‹œì§€ ë°°ì—´ì´ í¬í•¨ë  ìˆ˜ ìˆë‹¤.</p>

<p>ì´ëŸ¬í•œ ë©”ì‹œì§€ëŠ” ì•„ë˜ì™€ ê°™ì´ í•„ë“œ ìœ í˜• ë° í•„ë“œ ì´ë¦„ìœ¼ë¡œ ì„¤ëª… í•  ìˆ˜ ìˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="code"><pre>fieldtype1 fieldname1
fieldtype2 fieldname2
fieldtype3 fieldname3
</pre></td></tr></tbody></table></code></pre></figure>

<p>í•„ë“œíƒ€ì…ì—ëŠ” ì•„ë˜ í‘œì™€ ê°™ì´ ROS ìë£Œí˜•ì„ ê¸°ì…í•˜ê²Œ ë˜ê³ , í•„ë“œë„¤ì„ì—ëŠ” ë°ì´í„°ë¥¼ ì˜ë¯¸í•˜ëŠ” ì´ë¦„ì„ ì ì–´ì£¼ê²Œ ëœë‹¤.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
</pre></td><td class="code"><pre>int32 x
int32 y
</pre></td></tr></tbody></table></code></pre></figure>

<table>
  <thead>
    <tr>
      <th>ROS Data Type</th>
      <th style="text-align: center">Serialization</th>
      <th style="text-align: center">C++ Data Type</th>
      <th>Python Data Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>bool</td>
      <td style="text-align: center">unsigned 8-bit int</td>
      <td style="text-align: center">uint8_t</td>
      <td>bool</td>
    </tr>
    <tr>
      <td>int8</td>
      <td style="text-align: center">signed 8-bit int</td>
      <td style="text-align: center">int8_t</td>
      <td>int</td>
    </tr>
    <tr>
      <td>uint8</td>
      <td style="text-align: center">unsigned 8-bit int</td>
      <td style="text-align: center">uint8_t</td>
      <td>int</td>
    </tr>
    <tr>
      <td>int16</td>
      <td style="text-align: center">signed 16-bit int</td>
      <td style="text-align: center">int16_t</td>
      <td>int</td>
    </tr>
    <tr>
      <td>uint16</td>
      <td style="text-align: center">unsigned 16-bit int</td>
      <td style="text-align: center">uint16_t</td>
      <td>int</td>
    </tr>
    <tr>
      <td>int32</td>
      <td style="text-align: center">signed 32-bit int</td>
      <td style="text-align: center">int32_t</td>
      <td>int</td>
    </tr>
    <tr>
      <td>uint32</td>
      <td style="text-align: center">unsigned 32-bit int</td>
      <td style="text-align: center">uint32_t</td>
      <td>int</td>
    </tr>
    <tr>
      <td>int64</td>
      <td style="text-align: center">signed 64-bit int</td>
      <td style="text-align: center">int64_t</td>
      <td>long</td>
    </tr>
    <tr>
      <td>uint64</td>
      <td style="text-align: center">unsigned 64-bit int</td>
      <td style="text-align: center">uint64_t</td>
      <td>long</td>
    </tr>
    <tr>
      <td>float32</td>
      <td style="text-align: center">32-bit IEEE float</td>
      <td style="text-align: center">float</td>
      <td>float</td>
    </tr>
    <tr>
      <td>float64</td>
      <td style="text-align: center">64-bit IEEE float</td>
      <td style="text-align: center">double</td>
      <td>float</td>
    </tr>
    <tr>
      <td>string</td>
      <td style="text-align: center">ascii string</td>
      <td style="text-align: center">std::string</td>
      <td>str</td>
    </tr>
    <tr>
      <td>time</td>
      <td style="text-align: center">secs/nsecs unsigned 32-bit ints</td>
      <td style="text-align: center">ros::time</td>
      <td>rospy.Time</td>
    </tr>
    <tr>
      <td>duration</td>
      <td style="text-align: center">secs/nsecs signed 32-bit ints</td>
      <td style="text-align: center">ros::Duration</td>
      <td>rospy.Duration</td>
    </tr>
  </tbody>
</table>

<p><small>[í‘œ7-1] ROSì˜ ê¸°ë³¸ ë©”ì‹œì§€ ìë£Œí˜•</small></p>

<table>
  <thead>
    <tr>
      <th>ROS Data Type</th>
      <th style="text-align: center">Serialization</th>
      <th style="text-align: center">C++ Data Type</th>
      <th>Python Data Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>fixed-length</td>
      <td style="text-align: center">no extra serialization</td>
      <td style="text-align: center">boost::array, std::vector</td>
      <td>tuple</td>
    </tr>
    <tr>
      <td>variable-length</td>
      <td style="text-align: center">uint32 length prefix</td>
      <td style="text-align: center">std::vector</td>
      <td>tuple</td>
    </tr>
    <tr>
      <td>uint8[]</td>
      <td style="text-align: center">uint32 length prefix</td>
      <td style="text-align: center">std::vector</td>
      <td>bytes</td>
    </tr>
    <tr>
      <td>bool[]</td>
      <td style="text-align: center">uint32 length prefix</td>
      <td style="text-align: center">std::vector&lt;uint8_t&gt;</td>
      <td>list of bool</td>
    </tr>
  </tbody>
</table>

<p><small>[í‘œ7-2] ROSì˜ ë©”ì‹œì§€ ìë£Œí˜•ì—ì„œ ë°°ì—´ì²˜ëŸ¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•<small></small></small></p>

<p>ROSì—ì„œ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í—¤ë” (std_msgs / Header)ë„ ë©”ì‹œì§€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. std_msgsì˜ Header.msg íŒŒì¼ì—ëŠ” ì‹œí€€ìŠ¤ ID, íƒ€ì„ ìŠ¤íƒ¬í”„ ë° í”„ë ˆì„ IDê°€ í¬í•¨ë˜ì–´ ìˆìœ¼ë©° ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë©”ì‹œì§€ë¥¼ ì¡°ì‚¬í•˜ê±°ë‚˜ ì‹œê°„ì„ ì¸¡ì •í•œë‹¤.</p>

<p><strong>std_msgs/Header.msg</strong></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="code"><pre><span class="c"># Sequence ID: Messages are sequentially incremented by 1.</span>
uint32 <span class="nb">seq</span>
<span class="c"># Timestamp: Has two child attributes, the stamp.sec for second and the stamp.nsec for nanosecond.</span>
<span class="nb">time </span>stamp
<span class="c"># Stores the Frame ID</span>
string frame_id
</pre></td></tr></tbody></table></code></pre></figure>

<p>ë‹¤ìŒì€ ì‹¤ì œë¡œ ROS í”„ë¡œê·¸ë¨ì—ì„œ ë©”ì‹œì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤.
turtlesim íŒ¨í‚¤ì§€ì˜ â€˜teleop_turtle_keyâ€™ ë…¸ë“œì˜ ê²½ìš° ë³€í™˜ ì†ë„ (ë¯¸í„°/ì´ˆ) ë° íšŒì „ ì†ë„ (ë¼ë””ì•ˆ/ì´ˆ)ê°€ ë‹¤ìŒê³¼ ê°™ì´ turtlesim ë…¸ë“œì— ë©”ì‹œì§€ë¡œ ì „ì†¡ëœë‹¤. í‚¤ë³´ë“œì—ì„œ ì…ë ¥ í•œ ë°©í–¥í‚¤ (â†, â†’, â†‘, â†“)ë¡œ TurtleBotëŠ” ìˆ˜ì‹  ëœ ì†ë„ ê°’ì„ ì‚¬ìš©í•˜ì—¬ í™”ë©´ì—ì„œ ì›€ì§ì¸ë‹¤. 
í˜„ì¬ ì‚¬ìš©ë˜ëŠ” ë©”ì‹œì§€ëŠ”â€˜geometry_msgsâ€™ì˜â€˜twistâ€™ ë©”ì‹œì§€ì´ë‹¤.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
</pre></td><td class="code"><pre>Vector3 linear
Vector3 angular
</pre></td></tr></tbody></table></code></pre></figure>

<p>ìœ„ì˜ ë©”ì‹œì§€ êµ¬ì¡°ì—ì„œ <code class="highlighter-rouge">linear</code>ë° <code class="highlighter-rouge">radian</code>ê°’ì€ Vector3 ìœ í˜•ìœ¼ë¡œ ì„ ì–¸ëœë‹¤.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="code"><pre>float64 x
float64 y
float64 z
</pre></td></tr></tbody></table></code></pre></figure>

<p>ë‹¤ì‹œ ë§í•´ <code class="highlighter-rouge">teleop_turtle_key</code>ë…¸ë“œì—ì„œ í¼ë¸”ë¦¬ì‹œ ëœ 6ê°œì˜ í† í”½ì€ linear.x, linear.y, linear.z, angular.x, angular.y ë° angular.z ì´ë‹¤. ëª¨ë‘ëŠ” ROSì— ì„¤ëª… ëœ ê¸°ë³¸ ë°ì´í„° ìœ í˜• ì¤‘ í•˜ë‚˜ ì¸ float64 ìœ í˜•ì´ë‹¤. ì´ëŸ¬í•œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ í‚¤ë³´ë“œì˜ í™”ì‚´í‘œ í‚¤ë¥¼ ì´ë™ ì†ë„ (ë¯¸í„°/ì´ˆ) ë° íšŒì „ ì†ë„ (ë¼ë””ì•ˆ/ì´ˆ) ë©”ì‹œì§€ë¡œ ë³€í™˜ í•  ìˆ˜ ìˆë‹¤.</p>

<h2 id="2-msg-íŒŒì¼">2. msg íŒŒì¼</h2>

<p><code class="highlighter-rouge">msg</code> íŒŒì¼ì€ ì£¼ì œê°€ ì‚¬ìš©í•˜ëŠ” ë©”ì‹œì§€ íŒŒì¼ì´ë©° íŒŒì¼ í™•ì¥ìëŠ” <code class="highlighter-rouge">* .msg</code>ì…ë‹ˆë‹¤. ìœ„ì—ì„œ ì„¤ëª…í•œ <code class="highlighter-rouge">geometry_msgs</code>ì˜ <code class="highlighter-rouge">Twist</code> ë©”ì‹œì§€ëŠ” ë©”ì‹œì§€ì˜ ì˜ˆë‹¤. ì´ëŸ¬í•œ msg íŒŒì¼ì€ í•„ë“œ ìœ í˜•ê³¼ í•„ë“œ ì´ë¦„ìœ¼ë¡œ êµ¬ì„±ëœë‹¤.</p>

<h2 id="3-srv-íŒŒì¼">3. srv íŒŒì¼</h2>

<p><code class="highlighter-rouge">srv</code>íŒŒì¼ì€ íŒŒì¼ í™•ì¥ìê°€ <code class="highlighter-rouge">* .srv</code>ì¸ ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë©”ì‹œì§€ íŒŒì¼ì´ë‹¤.
ì˜ˆë¥¼ ë“¤ì–´, <code class="highlighter-rouge">sensor_msgs</code>ì˜ <code class="highlighter-rouge">SetCameraInfo</code> ë©”ì‹œì§€ëŠ” ì¼ë°˜ì ì¸ srv íŒŒì¼ì´ë‹¤. msg íŒŒì¼ê³¼ì˜ ì£¼ìš” ì°¨ì´ì ì€ ì¼ë ¨ì˜ ì„¸ ê°œì˜ í•˜ì´í”ˆ (<strong>---</strong>)ì´ êµ¬ë¶„ ê¸°í˜¸ë¡œ ì‚¬ìš©ëœë‹¤ëŠ” ê²ƒì´ë‹¤. ìƒìœ„ ë©”ì‹œì§€ëŠ” ì„œë¹„ìŠ¤ ìš”ì²­ ë©”ì‹œì§€ì´ê³  í•˜ìœ„ ë©”ì‹œì§€ëŠ” ì„œë¹„ìŠ¤ ì‘ë‹µ ë©”ì‹œì§€ì´ë‹¤.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="code"><pre>sensor_msgs/CameraInfo camera_info
<span class="nt">---</span>
bool success
string status_message
</pre></td></tr></tbody></table></code></pre></figure>

<h2 id="4-action-íŒŒì¼">4. action íŒŒì¼</h2>

<p>ì•¡ì…˜ ë©”ì‹œì§€ íŒŒì¼ì€ ì•¡ì…˜ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë©”ì‹œì§€ íŒŒì¼ì´ë©° íŒŒì¼ í™•ì¥ìëŠ” â€˜* .actionâ€™ì´ë‹¤.
msg ë° srvì™€ ë‹¬ë¦¬ ë¹„êµì  ë“œë¬¸ ë©”ì‹œì§€ íŒŒì¼ì´ë¯€ë¡œ ë©”ì‹œì§€ íŒŒì¼ì˜ ì¼ë°˜ì ì¸ ì˜ˆëŠ” ì—†ì§€ë§Œ ë‹¤ìŒ ì˜ˆì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
msg ë° srv íŒŒì¼ê³¼ì˜ ì£¼ìš” ì°¨ì´ì ì€ ì¼ë ¨ì˜ 3 ê°œì˜ í•˜ì´í”ˆ (<strong>---</strong>)ì´ êµ¬ë¶„ ê¸°í˜¸ë¡œ ë‘ ìœ„ì¹˜ì—ì„œ ì‚¬ìš©ëœë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>

<ul>
  <li>ì²« ë²ˆì§¸ëŠ” ëª©í‘œ(goal) ë©”ì‹œì§€ì´ê³ ,</li>
  <li>ë‘ ë²ˆì§¸ëŠ” ê²°ê³¼(result) ë©”ì‹œì§€ì´ë©°,</li>
  <li>ì„¸ ë²ˆì§¸ëŠ” í”¼ë“œë°±(feedback) ë©”ì‹œì§€ì…ë‹ˆë‹¤.</li>
</ul>

<p>ì•¡ì…˜ íŒŒì¼ì˜ ê°€ì¥ í° ì°¨ì´ì ì€ í”¼ë“œë°± ë©”ì‹œì§€ ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì•¡ì…˜ íŒŒì¼ì˜ ëª©í‘œ ë©”ì‹œì§€ ë° ê²°ê³¼ ë©”ì‹œì§€ëŠ” ìœ„ì—ì„œ ì–¸ê¸‰ í•œ srv íŒŒì¼ì˜ ìš”ì²­ ë° ì‘ë‹µ ë©”ì‹œì§€ì™€ ë¹„êµ ë  ìˆ˜ ìˆì§€ë§Œ ì§€ì •ëœ í”„ë¡œì„¸ìŠ¤ê°€ ìˆ˜í–‰ë˜ëŠ” ë™ì•ˆ ì¡°ì¹˜ íŒŒì¼ì˜ ì¶”ê°€ í”¼ë“œë°± ë©”ì‹œì§€ê°€ í”¼ë“œë°±ì„ ë³´ë‚´ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ë‹¤ìŒ ì˜ˆì—ì„œ ì„¤ëª…í•˜ëŠ” ê²ƒì²˜ëŸ¼ ë¡œë´‡ì˜ ì‹œì‘ ìœ„ì¹˜ â€˜start_poseâ€™ì™€ ëª©í‘œ â€˜goal_poseâ€™ê°€ ìš”ì²­ ê°’ìœ¼ë¡œ ì „ì†¡ë˜ë©´ ë¡œë´‡ì€ ìˆ˜ì‹  ëœ ëª©í‘œ ìœ„ì¹˜ë¡œ ì´ë™í•˜ì—¬ â€˜result_poseâ€™ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ë¡œë´‡ì´ ëª©í‘œ ìœ„ì¹˜ë¡œ ì´ë™í•˜ëŠ” ë™ì•ˆ â€˜percent_completeâ€™ë©”ì‹œì§€ëŠ” ì£¼ê¸°ì ìœ¼ë¡œ ë„ë‹¬ í•œ ëª©í‘œ ì§€ì ì˜ ë°±ë¶„ìœ¨ í˜•ì‹ìœ¼ë¡œ ì§„í–‰ë¥ ì„ ë‚˜íƒ€ë‚´ëŠ” í”¼ë“œë°± ê°’ì„ ì „ì†¡í•©ë‹ˆë‹¤.</p>

:ET